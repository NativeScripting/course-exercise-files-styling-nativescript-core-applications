"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var app_config_1 = require("~/config/app-config");
var services_1 = require("~/core/services");
var auth_1 = require("~/core/services/auth");
var backlog_1 = require("~/core/services/backlog");
var local_1 = require("~/infrastructure/local");
var repositories_1 = require("~/infrastructure/repositories");
var config = app_config_1.appConfig;
// Init Repositories
var loggingRepo = new repositories_1.LoggingRepository(config.loggingEnabled, config.loggingLevel);
var backlogRepo = new repositories_1.BacklogRepository(config.apiEndpoint);
var authRepo = new repositories_1.AuthRepository(config.apiEndpoint);
var storageRepo = new local_1.StorageRepository();
var userRepo = new repositories_1.UserRepository(config.apiEndpoint);
// Init Services
var loggingService = new services_1.LoggingService(loggingRepo);
var storageService = new services_1.StorageService(storageRepo);
var appStateService = new services_1.AppStateService(storageService);
var authService = new auth_1.AuthService(loggingService, authRepo, storageService, appStateService);
var backlogService = new backlog_1.BacklogService(loggingService, backlogRepo, appStateService);
var commentService = new backlog_1.CommentService(loggingService, backlogRepo, authService);
var taskService = new backlog_1.TaskService(loggingService, backlogRepo);
var userService = new services_1.UserService(loggingService, userRepo, appStateService);
// Service providers
function getAuthService() {
    return authService;
}
exports.getAuthService = getAuthService;
function getBacklogService() {
    return backlogService;
}
exports.getBacklogService = getBacklogService;
function getCommentService() {
    return commentService;
}
exports.getCommentService = getCommentService;
function getLoggingService() {
    return loggingService;
}
exports.getLoggingService = getLoggingService;
function getStorageService() {
    return storageService;
}
exports.getStorageService = getStorageService;
function getTaskService() {
    return taskService;
}
exports.getTaskService = getTaskService;
function getUserService() {
    return userService;
}
exports.getUserService = getUserService;
function getApiEndpoint() {
    return config.apiEndpoint;
}
exports.getApiEndpoint = getApiEndpoint;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9jYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvY2F0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxrREFBZ0Q7QUFtQmhELDRDQUt5QjtBQUN6Qiw2Q0FBbUQ7QUFDbkQsbURBSWlDO0FBQ2pDLGdEQUEyRDtBQUMzRCw4REFLdUM7QUFFdkMsSUFBTSxNQUFNLEdBQWMsc0JBQVMsQ0FBQztBQUVwQyxvQkFBb0I7QUFDcEIsSUFBTSxXQUFXLEdBQXdCLElBQUksZ0NBQWlCLENBQzVELE1BQU0sQ0FBQyxjQUFjLEVBQ3JCLE1BQU0sQ0FBQyxZQUFZLENBQ3BCLENBQUM7QUFDRixJQUFNLFdBQVcsR0FBd0IsSUFBSSxnQ0FBaUIsQ0FDNUQsTUFBTSxDQUFDLFdBQVcsQ0FDbkIsQ0FBQztBQUNGLElBQU0sUUFBUSxHQUFxQixJQUFJLDZCQUFjLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzFFLElBQU0sV0FBVyxHQUF3QixJQUFJLHlCQUFpQixFQUFFLENBQUM7QUFDakUsSUFBTSxRQUFRLEdBQXFCLElBQUksNkJBQWMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFMUUsZ0JBQWdCO0FBQ2hCLElBQU0sY0FBYyxHQUFxQixJQUFJLHlCQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDekUsSUFBTSxjQUFjLEdBQXFCLElBQUkseUJBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN6RSxJQUFNLGVBQWUsR0FBc0IsSUFBSSwwQkFBZSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQy9FLElBQU0sV0FBVyxHQUFrQixJQUFJLGtCQUFXLENBQ2hELGNBQWMsRUFDZCxRQUFRLEVBQ1IsY0FBYyxFQUNkLGVBQWUsQ0FDaEIsQ0FBQztBQUNGLElBQU0sY0FBYyxHQUFxQixJQUFJLHdCQUFjLENBQ3pELGNBQWMsRUFDZCxXQUFXLEVBQ1gsZUFBZSxDQUNoQixDQUFDO0FBQ0YsSUFBTSxjQUFjLEdBQXFCLElBQUksd0JBQWMsQ0FDekQsY0FBYyxFQUNkLFdBQVcsRUFDWCxXQUFXLENBQ1osQ0FBQztBQUNGLElBQU0sV0FBVyxHQUFrQixJQUFJLHFCQUFXLENBQUMsY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQ2hGLElBQU0sV0FBVyxHQUFrQixJQUFJLHNCQUFXLENBQ2hELGNBQWMsRUFDZCxRQUFRLEVBQ1IsZUFBZSxDQUNoQixDQUFDO0FBRUYsb0JBQW9CO0FBQ3BCLFNBQWdCLGNBQWM7SUFDNUIsT0FBTyxXQUFXLENBQUM7QUFDckIsQ0FBQztBQUZELHdDQUVDO0FBRUQsU0FBZ0IsaUJBQWlCO0lBQy9CLE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUM7QUFGRCw4Q0FFQztBQUVELFNBQWdCLGlCQUFpQjtJQUMvQixPQUFPLGNBQWMsQ0FBQztBQUN4QixDQUFDO0FBRkQsOENBRUM7QUFFRCxTQUFnQixpQkFBaUI7SUFDL0IsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQztBQUZELDhDQUVDO0FBRUQsU0FBZ0IsaUJBQWlCO0lBQy9CLE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUM7QUFGRCw4Q0FFQztBQUVELFNBQWdCLGNBQWM7SUFDNUIsT0FBTyxXQUFXLENBQUM7QUFDckIsQ0FBQztBQUZELHdDQUVDO0FBRUQsU0FBZ0IsY0FBYztJQUM1QixPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDO0FBRkQsd0NBRUM7QUFFRCxTQUFnQixjQUFjO0lBQzVCLE9BQU8sTUFBTSxDQUFDLFdBQVcsQ0FBQztBQUM1QixDQUFDO0FBRkQsd0NBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhcHBDb25maWcgfSBmcm9tICd+L2NvbmZpZy9hcHAtY29uZmlnJztcbmltcG9ydCB7XG4gIFB0QXV0aFJlcG9zaXRvcnksXG4gIFB0QmFja2xvZ1JlcG9zaXRvcnksXG4gIFB0TG9nZ2luZ1JlcG9zaXRvcnksXG4gIFB0U3RvcmFnZVJlcG9zaXRvcnksXG4gIFB0VXNlclJlcG9zaXRvcnlcbn0gZnJvbSAnfi9jb3JlL2NvbnRyYWN0cy9yZXBvc2l0b3JpZXMnO1xuaW1wb3J0IHtcbiAgUHRBcHBTdGF0ZVNlcnZpY2UsXG4gIFB0QXV0aFNlcnZpY2UsXG4gIFB0QmFja2xvZ1NlcnZpY2UsXG4gIFB0Q29tbWVudFNlcnZpY2UsXG4gIFB0TG9nZ2luZ1NlcnZpY2UsXG4gIFB0U3RvcmFnZVNlcnZpY2UsXG4gIFB0VGFza1NlcnZpY2UsXG4gIFB0VXNlclNlcnZpY2Vcbn0gZnJvbSAnfi9jb3JlL2NvbnRyYWN0cy9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBBcHBDb25maWcgfSBmcm9tICd+L2NvcmUvbW9kZWxzL2NvbmZpZy9hcHAtY29uZmlnLm1vZGVsJztcbmltcG9ydCB7XG4gIEFwcFN0YXRlU2VydmljZSxcbiAgTG9nZ2luZ1NlcnZpY2UsXG4gIFN0b3JhZ2VTZXJ2aWNlLFxuICBVc2VyU2VydmljZVxufSBmcm9tICd+L2NvcmUvc2VydmljZXMnO1xuaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICd+L2NvcmUvc2VydmljZXMvYXV0aCc7XG5pbXBvcnQge1xuICBCYWNrbG9nU2VydmljZSxcbiAgQ29tbWVudFNlcnZpY2UsXG4gIFRhc2tTZXJ2aWNlXG59IGZyb20gJ34vY29yZS9zZXJ2aWNlcy9iYWNrbG9nJztcbmltcG9ydCB7IFN0b3JhZ2VSZXBvc2l0b3J5IH0gZnJvbSAnfi9pbmZyYXN0cnVjdHVyZS9sb2NhbCc7XG5pbXBvcnQge1xuICBBdXRoUmVwb3NpdG9yeSxcbiAgQmFja2xvZ1JlcG9zaXRvcnksXG4gIExvZ2dpbmdSZXBvc2l0b3J5LFxuICBVc2VyUmVwb3NpdG9yeVxufSBmcm9tICd+L2luZnJhc3RydWN0dXJlL3JlcG9zaXRvcmllcyc7XG5cbmNvbnN0IGNvbmZpZyA9IDxBcHBDb25maWc+YXBwQ29uZmlnO1xuXG4vLyBJbml0IFJlcG9zaXRvcmllc1xuY29uc3QgbG9nZ2luZ1JlcG86IFB0TG9nZ2luZ1JlcG9zaXRvcnkgPSBuZXcgTG9nZ2luZ1JlcG9zaXRvcnkoXG4gIGNvbmZpZy5sb2dnaW5nRW5hYmxlZCxcbiAgY29uZmlnLmxvZ2dpbmdMZXZlbFxuKTtcbmNvbnN0IGJhY2tsb2dSZXBvOiBQdEJhY2tsb2dSZXBvc2l0b3J5ID0gbmV3IEJhY2tsb2dSZXBvc2l0b3J5KFxuICBjb25maWcuYXBpRW5kcG9pbnRcbik7XG5jb25zdCBhdXRoUmVwbzogUHRBdXRoUmVwb3NpdG9yeSA9IG5ldyBBdXRoUmVwb3NpdG9yeShjb25maWcuYXBpRW5kcG9pbnQpO1xuY29uc3Qgc3RvcmFnZVJlcG86IFB0U3RvcmFnZVJlcG9zaXRvcnkgPSBuZXcgU3RvcmFnZVJlcG9zaXRvcnkoKTtcbmNvbnN0IHVzZXJSZXBvOiBQdFVzZXJSZXBvc2l0b3J5ID0gbmV3IFVzZXJSZXBvc2l0b3J5KGNvbmZpZy5hcGlFbmRwb2ludCk7XG5cbi8vIEluaXQgU2VydmljZXNcbmNvbnN0IGxvZ2dpbmdTZXJ2aWNlOiBQdExvZ2dpbmdTZXJ2aWNlID0gbmV3IExvZ2dpbmdTZXJ2aWNlKGxvZ2dpbmdSZXBvKTtcbmNvbnN0IHN0b3JhZ2VTZXJ2aWNlOiBQdFN0b3JhZ2VTZXJ2aWNlID0gbmV3IFN0b3JhZ2VTZXJ2aWNlKHN0b3JhZ2VSZXBvKTtcbmNvbnN0IGFwcFN0YXRlU2VydmljZTogUHRBcHBTdGF0ZVNlcnZpY2UgPSBuZXcgQXBwU3RhdGVTZXJ2aWNlKHN0b3JhZ2VTZXJ2aWNlKTtcbmNvbnN0IGF1dGhTZXJ2aWNlOiBQdEF1dGhTZXJ2aWNlID0gbmV3IEF1dGhTZXJ2aWNlKFxuICBsb2dnaW5nU2VydmljZSxcbiAgYXV0aFJlcG8sXG4gIHN0b3JhZ2VTZXJ2aWNlLFxuICBhcHBTdGF0ZVNlcnZpY2Vcbik7XG5jb25zdCBiYWNrbG9nU2VydmljZTogUHRCYWNrbG9nU2VydmljZSA9IG5ldyBCYWNrbG9nU2VydmljZShcbiAgbG9nZ2luZ1NlcnZpY2UsXG4gIGJhY2tsb2dSZXBvLFxuICBhcHBTdGF0ZVNlcnZpY2Vcbik7XG5jb25zdCBjb21tZW50U2VydmljZTogUHRDb21tZW50U2VydmljZSA9IG5ldyBDb21tZW50U2VydmljZShcbiAgbG9nZ2luZ1NlcnZpY2UsXG4gIGJhY2tsb2dSZXBvLFxuICBhdXRoU2VydmljZVxuKTtcbmNvbnN0IHRhc2tTZXJ2aWNlOiBQdFRhc2tTZXJ2aWNlID0gbmV3IFRhc2tTZXJ2aWNlKGxvZ2dpbmdTZXJ2aWNlLCBiYWNrbG9nUmVwbyk7XG5jb25zdCB1c2VyU2VydmljZTogUHRVc2VyU2VydmljZSA9IG5ldyBVc2VyU2VydmljZShcbiAgbG9nZ2luZ1NlcnZpY2UsXG4gIHVzZXJSZXBvLFxuICBhcHBTdGF0ZVNlcnZpY2Vcbik7XG5cbi8vIFNlcnZpY2UgcHJvdmlkZXJzXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXV0aFNlcnZpY2UoKTogUHRBdXRoU2VydmljZSB7XG4gIHJldHVybiBhdXRoU2VydmljZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhY2tsb2dTZXJ2aWNlKCk6IFB0QmFja2xvZ1NlcnZpY2Uge1xuICByZXR1cm4gYmFja2xvZ1NlcnZpY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21tZW50U2VydmljZSgpOiBQdENvbW1lbnRTZXJ2aWNlIHtcbiAgcmV0dXJuIGNvbW1lbnRTZXJ2aWNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nZ2luZ1NlcnZpY2UoKTogUHRMb2dnaW5nU2VydmljZSB7XG4gIHJldHVybiBsb2dnaW5nU2VydmljZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JhZ2VTZXJ2aWNlKCk6IFB0U3RvcmFnZVNlcnZpY2Uge1xuICByZXR1cm4gc3RvcmFnZVNlcnZpY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUYXNrU2VydmljZSgpOiBQdFRhc2tTZXJ2aWNlIHtcbiAgcmV0dXJuIHRhc2tTZXJ2aWNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlclNlcnZpY2UoKTogUHRVc2VyU2VydmljZSB7XG4gIHJldHVybiB1c2VyU2VydmljZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFwaUVuZHBvaW50KCkge1xuICByZXR1cm4gY29uZmlnLmFwaUVuZHBvaW50O1xufVxuIl19